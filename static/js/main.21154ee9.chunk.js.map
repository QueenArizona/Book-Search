{"version":3,"sources":["redux/booksList/types.js","redux/booksList/reducer.js","redux/bookModal/types.js","redux/bookModal/reducer.js","redux/search/types.js","redux/search/reducer.js","redux/booksList/actions.js","redux/utils/api.js","redux/sagas.js","redux/store.js","components/SearchForm/SearchForm.jsx","redux/search/actions.js","components/BooksItem/BooksItem.jsx","redux/bookModal/actions.js","components/Paginator/Paginator.jsx","components/Error/Error.jsx","components/Loader/Loader.jsx","components/BooksList/BooksList.jsx","components/BookModal/BookModal.jsx","App.js","reportWebVitals.js","index.js"],"names":["BOOKS_LIST_REQUEST","BOOKS_LIST_SUCCESS","BOOKS_LIST_FAILURE","SELECT_PAGE","initialState","items","loading","error","page","BOOK_MODAL_SHOW","BOOK_MODAL_CLOSE","item","active","SEARCH_FIELD_CHANGE","name","booksListRequest","search","type","payload","selectPage","booksListFetch","req","a","fetch","process","response","ok","Error","statusText","json","data","console","log","docs","filter","el","publisher","handleSearchFieldSaga","watchSearchFieldSaga","handleBookSearchSaga","watchBookSearchSaga","saga","filterSearchFieldAction","value","trim","action","put","debounce","call","message","takeLatest","spawn","reducer","combineReducers","booksList","state","bookModal","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","thunk","run","SearchForm","props","useSelector","dispatch","useDispatch","className","onSubmit","event","preventDefault","onChange","searchFieldChange","target","placeholder","xmlns","width","height","viewBox","fill","fillRule","clipRule","d","strokeWidth","strokeLinecap","strokeLinejoin","BooksItem","book","onClick","cover_i","src","alt","title","author_name","Paginator","count","pages","i","push","generate","map","select","version","Loader","BooksList","length","slice","key","Math","ceil","BookModal","closeBook","closest","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"gWAAaA,EAAqB,qBACrBC,EAAqB,qBACrBC,EAAqB,qBAErBC,EAAc,cCGrBC,EAAe,CACnBC,MAAO,GACPC,SAAS,EACTC,MAAO,KACPC,KAAM,GCXD,IAAMC,EAAkB,kBAClBC,EAAmB,mBCC1BN,EAAe,CACnBO,KAAM,KACNC,QAAQ,G,YCJGC,EAAsB,sBCE7BT,EAAe,CACnBU,KAAM,I,4BCID,SAASC,EAAiBC,GAC/B,MAAO,CAAEC,KAAMjB,EAAoBkB,QAAS,CAAEF,WAWzC,SAASG,EAAWX,GACzB,MAAO,CAAES,KAAMd,EAAae,QAAS,CAAEV,S,YCpB5BY,EAAc,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,sEACLC,MAAM,GAAD,OACvBC,0BADuB,0BAC2BH,IAF3B,WACtBI,EADsB,QAIdC,GAJc,sBAKpB,IAAIC,MAAMF,EAASG,YALC,uBAOTH,EAASI,OAPA,cAOtBC,EAPsB,OAQ5BC,QAAQC,IAAIF,EAAKG,KAAKC,QAAO,SAAAC,GAAE,OAAIA,EAAGC,cARV,kBASrBN,GATqB,4CAAH,sD,WCcjBO,G,WAIAC,G,WAIAC,G,WASAC,G,WAIeC,GAzBzB,SAASC,EAAT,GAAqD,IAAlBzB,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACvC,OAAOD,IAASJ,GAAgD,KAAzBK,EAAQyB,MAAMC,OAGvD,SAAUP,EAAsBQ,GAAhC,iEACE,OADF,SACQC,YAAI/B,EAAiB8B,EAAO3B,QAAQyB,QAD5C,uCAIA,SAAUL,IAAV,iEACE,OADF,SACQS,YAAS,IAAML,EAAyBL,GADhD,uCAIA,SAAUE,EAAqBM,GAA/B,uEAEiB,OAFjB,kBAEuBG,YAAK5B,EAAgByB,EAAO3B,QAAQF,QAF3D,OAGI,OADMc,EAFV,gBAGUgB,aFVuBzC,EEUFyB,EAAKG,KFT3B,CAAEhB,KAAMhB,EAAoBiB,QAAS,CAAEb,YEMhD,8BAKI,OALJ,mCAKUyC,aFhBuBvC,EEgBF,KAAE0C,QFfxB,CAAEhC,KAAMf,EAAoBgB,QAAS,CAAEX,YEUhD,kCFXO,IAA0BA,EAIAF,IEOjC,gBASA,SAAUmC,IAAV,iEACE,OADF,SACQU,YAAWlD,EAAoBuC,GADvC,uCAIe,SAAUE,IAAV,iEACb,OADa,SACPU,YAAMb,GADC,OAEb,OAFa,SAEPa,YAAMX,GAFC,uCC3Bf,IAAMY,EAAUC,YAAgB,CAC9BC,URKa,WAAyD,IAA/BC,EAA8B,uDAAtBnD,EAAcyC,EAAQ,uCACrE,OAAQA,EAAO5B,MACb,KAAKjB,EACH,OAAO,2BAAKuD,GAAZ,IAAmBlD,MAAO,GAAIC,SAAS,EAAMC,MAAO,KAAMC,KAAM,IAClE,KAAKN,EACH,IAAQK,EAAUsC,EAAO3B,QAAjBX,MACR,OAAO,2BAAKgD,GAAZ,IAAmBlD,MAAO,GAAIC,SAAS,EAAOC,QAAOC,KAAM,IAC7D,KAAKP,EACH,IAAQI,EAAUwC,EAAO3B,QAAjBb,MACR,OAAO,2BAAKkD,GAAZ,IAAmBlD,QAAOC,SAAS,EAAOC,MAAO,KAAMC,KAAM,IAC/D,KAAKL,EACH,IAAQK,EAASqC,EAAO3B,QAAhBV,KACR,OAAO,2BAAK+C,GAAZ,IAAmB/C,SACrB,QACE,OAAO+C,IQlBXC,UNHa,WAAyD,IAA/BD,EAA8B,uDAAtBnD,EAAcyC,EAAQ,uCACrE,OAAQA,EAAO5B,MACb,KAAKR,EACH,IAAQE,EAASkC,EAAO3B,QAAhBP,KACR,OAAO,2BAAK4C,GAAZ,IAAmB5C,OAAMC,QAAQ,IACnC,KAAKF,EACH,OAAON,EACT,QACE,OAAOmD,IMJXvC,OJLa,WAAsD,IAA/BuC,EAA8B,uDAAtBnD,EAAcyC,EAAQ,uCAClE,OAAQA,EAAO5B,MACb,KAAKJ,EACH,MAAwBgC,EAAO3B,QAAvBJ,EAAR,EAAQA,KAAM6B,EAAd,EAAcA,MACd,OAAO,2BAAKY,GAAZ,kBAAoBzC,EAAO6B,IAC7B,QACE,OAAOY,MIEPE,EAAmBC,OAAOC,sCAAwCC,IAElEC,EAAiBC,cAEjBC,EAAQC,YACZZ,EACAK,EAAiBQ,YAAgBC,IAAOL,KAG1CA,EAAeM,IAAI1B,GAEJsB,Q,iBCoBAK,MAvCf,SAAoBC,GAClB,IAAQvD,EAASwD,aAAY,SAACf,GAAD,OAAWA,EAAMvC,UAAtCF,KACFyD,EAAWC,cAajB,OACE,qBAAKC,UAAU,SAAf,SACE,uBAAMA,UAAU,eAAeC,SATb,SAACC,GACrBA,EAAMC,iBACF9D,GACFyD,EAASxD,EAAiBD,KAM1B,UACE,qBAAK2D,UAAU,cAAf,SACE,uBACE3D,KAAK,OACL6B,MAAO7B,EACP+D,SAlBW,SAACF,GACpBJ,ECTG,SAA2BzD,EAAM6B,GACtC,MAAO,CAAE1B,KAAMJ,EAAqBK,QAAS,CAAEJ,OAAM6B,UDQ1CmC,CAAkBH,EAAMI,OAAOjE,KAAM6D,EAAMI,OAAOpC,SAkBnD1B,KAAK,OACL+D,YAAY,4MAGhB,yBAAQP,UAAU,sBAAlB,UACE,kEACA,sBAAKQ,MAAM,6BAA6BC,MAAM,QAAQC,OAAO,QAAQC,QAAQ,eAAeC,KAAK,OAAjG,UACE,sBAAMC,SAAS,UAAUC,SAAS,UAAUC,EAAE,+OAA+OC,YAAY,MAAMC,cAAc,QAAQC,eAAe,UACpV,sBAAMH,EAAE,+BAAgCC,YAAY,MAAMC,cAAc,QAAQC,eAAe,sB,MED5FC,MA9Bf,YAA8B,IAATC,EAAQ,EAARA,KACbtB,EAAWC,cAMjB,OACE,qBAAIC,UAAU,cAAcqB,QALX,WACjBvB,ECPK,CAAEtD,KAAMR,EAAiBS,QAAS,CAAEP,KDOlBkF,MAIvB,UACE,qBAAKpB,UAAU,mBAAf,SACGoB,EAAKE,QACH,qBAAKC,IAAG,6CAAwCH,EAAKE,QAA7C,UAA8DE,IAAI,KAC3E,KAEJ,sBAAKxB,UAAU,sBAAf,UACE,qBAAKA,UAAU,oBAAf,SAAoCoB,EAAKK,QACxCL,EAAKM,aAAgB,qBAAK1B,UAAU,qBAAf,SAAqCoB,EAAKM,YAAY,Y,MEoDrEC,MAnEf,YAA+B,IAAVC,EAAS,EAATA,MACX7F,EAAS8D,aAAY,SAACf,GAAD,OAAWA,EAAMD,aAAtC9C,KACF+D,EAAWC,cA0BjB,OACE,sBAAKC,UAAU,YAAf,UACE,qBAAKA,UAAU,kBAAf,SA1Ba,SAAC4B,GAEhB,IADA,IAAMC,EAAQ,GACLC,EAAI,EAAGA,GAAKF,EAAOE,IAC1BD,EAAME,KAAKD,GAEb,OAAOD,EAsBFG,CAASJ,GAAOK,KAAI,SAACvE,GAAD,OACnB,wBACEsC,UAAS,0BAAqBjE,IAAS2B,EAAK,0BAA4B,IAExE2D,QAAS,kBAvBJ,SAACtF,GACd+D,EAASpD,EAAWX,IAsBGmG,CAAOxE,IAHxB,SAKGA,GAHIA,QAOX,sBAAKsC,UAAU,qBAAf,UACE,wBACEA,UAAU,8CACVqB,QA5Ba,WACftF,EAAO,GACT+D,EAASpD,EAAWX,EAAO,KAwBzB,SAIE,qBAAKyE,MAAM,6BAA6BC,MAAM,QAAQC,OAAO,QAAQC,QAAQ,gBAAgBwB,QAAQ,MAArG,SACE,sBAAMpB,EAAE,mFAGZ,wBACEf,UAAU,6CACVqB,QA9BY,WACdtF,EAAO6F,GACT9B,EAASpD,EAAWX,EAAO,KA0BzB,SAIE,qBAAKyE,MAAM,6BAA6BC,MAAM,QAAQC,OAAO,QAAQC,QAAQ,gBAAgBwB,QAAQ,MAArG,SACE,sBAAMpB,EAAE,qF,MCjDL7D,MAVf,SAAe0C,GACb,OACE,qBAAKI,UAAU,QAAf,SACE,iU,MCKSoC,MARf,SAAgBxC,GACd,OACE,qBAAKI,UAAU,SAAf,SACE,qBAAKA,UAAU,oB,MC6BNqC,MA3Bf,SAAmBzC,GACjB,MAAwCC,aACtC,SAACf,GAAD,OAAWA,EAAMD,aADXjD,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QAASC,EAAxB,EAAwBA,MAAOC,EAA/B,EAA+BA,KAIzB6F,EAAQ,SAAC7F,GACb,OAAO,GAAKA,EAAO,IAGrB,OACE,sBAAKiE,UAAU,QAAf,UACGnE,GAAW,cAAC,EAAD,IACXC,GAAS,cAAC,EAAD,IACTF,EAAM0G,OAAS,GACd,qCACE,oBAAItC,UAAU,cAAd,SACGpE,EAAM2G,MAAMX,EAAM7F,GAAO6F,EAAM7F,GAAQ,IAAIkG,KAAI,SAACvE,GAAD,OAC9C,cAAC,EAAD,CAAwB0D,KAAM1D,GAAdA,EAAG8E,UAGvB,cAAC,EAAD,CAAWZ,MAAOa,KAAKC,KAAK9G,EAAM0G,OAAS,a,MCyBtCK,MAhDf,SAAmB/C,GACjB,MAAyBC,aAAY,SAACf,GAAD,OAAWA,EAAMC,aAA9C7C,EAAR,EAAQA,KAAMC,EAAd,EAAcA,OACR2D,EAAWC,cAEX6C,EAAY,SAAC1C,GACjBA,EAAMC,iBACN,IAAMG,EAASJ,EAAMI,QAEjBA,EAAOuC,QAAQ,mBAAsBvC,EAAOuC,QAAQ,iBACtD/C,ELPG,CAAEtD,KAAMP,KKUf,OACE,qBACE+D,UAAS,2BAAsB7D,EAAS,gBAAkB,IAC1DkF,QAAS,SAACnB,GAAD,OAAW0C,EAAU1C,IAFhC,SAIE,qBAAKF,UAAU,gBAAf,SACE,sBAAKA,UAAU,eAAf,UACE,wBAAQA,UAAU,eAAlB,SACE,sBAAKQ,MAAM,6BAA6BC,MAAM,QAAQC,OAAO,QAAQC,QAAQ,eAAeC,KAAK,OAAjG,UACE,sBAAMG,EAAE,sBAAsBC,YAAY,MAAMC,cAAc,QAAQC,eAAe,UACrF,sBAAMH,EAAE,sBAAuBC,YAAY,MAAMC,cAAc,QAAQC,eAAe,eAGzFhF,GACC,qBAAK8D,UAAU,cAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,6BAAK9D,EAAKuF,QACTvF,EAAKwF,aACJ,4BAAIxF,EAAKwF,YAAY,QAGxBxF,EAAKoF,QACJ,qBAAKtB,UAAU,mBAAf,SACE,qBAAKuB,IAAG,6CAAwCrF,EAAKoF,QAA7C,UAA8DE,IAAI,OAE1E,gBCzBLsB,MAdf,WACE,OACE,qCACE,qBAAK9C,UAAU,MAAf,SACE,sBAAKA,UAAU,YAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,SAGJ,cAAC,EAAD,QCDS+C,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,QCCdQ,IAASC,OACP,cAAC,IAAD,CAAUnE,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFoE,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.21154ee9.chunk.js","sourcesContent":["export const BOOKS_LIST_REQUEST = \"BOOKS_LIST_REQUEST\";\nexport const BOOKS_LIST_SUCCESS = \"BOOKS_LIST_SUCCESS\";\nexport const BOOKS_LIST_FAILURE = \"BOOKS_LIST_FAILURE\";\n\nexport const SELECT_PAGE = \"SELECT_PAGE\";\n","import {\n  BOOKS_LIST_FAILURE,\n  BOOKS_LIST_REQUEST,\n  BOOKS_LIST_SUCCESS,\n  SELECT_PAGE,\n} from \"./types\";\n\nconst initialState = {\n  items: [],\n  loading: false,\n  error: null,\n  page: 0,\n};\n\nexport default function booksListReducer(state = initialState, action) {\n  switch (action.type) {\n    case BOOKS_LIST_REQUEST:\n      return { ...state, items: [], loading: true, error: null, page: 0 };\n    case BOOKS_LIST_FAILURE:\n      const { error } = action.payload;\n      return { ...state, items: [], loading: false, error, page: 0 };\n    case BOOKS_LIST_SUCCESS:\n      const { items } = action.payload;\n      return { ...state, items, loading: false, error: null, page: 1 };\n    case SELECT_PAGE:\n      const { page } = action.payload;\n      return { ...state, page };\n    default:\n      return state;\n  }\n}\n","export const BOOK_MODAL_SHOW = \"BOOK_MODAL_SHOW\";\nexport const BOOK_MODAL_CLOSE = \"BOOK_MODAL_CLOSE\";\n","import { BOOK_MODAL_SHOW, BOOK_MODAL_CLOSE } from \"./types\";\n\nconst initialState = {\n  item: null,\n  active: false,\n};\n\nexport default function bookModalReducer(state = initialState, action) {\n  switch (action.type) {\n    case BOOK_MODAL_SHOW:\n      const { item } = action.payload;\n      return { ...state, item, active: true };\n    case BOOK_MODAL_CLOSE:\n      return initialState;\n    default:\n      return state;\n  }\n}\n","export const SEARCH_FIELD_CHANGE = \"SEARCH_FIELD_CHANGE\";\n","import { SEARCH_FIELD_CHANGE } from \"./types\";\n\nconst initialState = {\n  name: \"\",\n};\n\nexport default function searchReducer(state = initialState, action) {\n  switch (action.type) {\n    case SEARCH_FIELD_CHANGE:\n      const { name, value } = action.payload;\n      return { ...state, [name]: value };\n    default:\n      return state;\n  }\n}\n","import {\n  BOOKS_LIST_FAILURE,\n  BOOKS_LIST_REQUEST,\n  BOOKS_LIST_SUCCESS,\n  SELECT_PAGE,\n} from \"./types\";\n\nexport function booksListRequest(search) {\n  return { type: BOOKS_LIST_REQUEST, payload: { search } };\n}\n\nexport function booksListFailure(error) {\n  return { type: BOOKS_LIST_FAILURE, payload: { error } };\n}\n\nexport function booksListSuccess(items) {\n  return { type: BOOKS_LIST_SUCCESS, payload: { items } };\n}\n\nexport function selectPage(page) {\n  return { type: SELECT_PAGE, payload: { page } };\n}\n","export const booksListFetch = async (req) => {\n  const response = await fetch(\n    `${process.env.REACT_APP_SEARCH_URL}/search.json?q=${req}`\n  );\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n  const data = await response.json();\n  console.log(data.docs.filter(el => el.publisher))\n  return data;\n};\n","import { put, spawn, debounce, call, takeLatest } from \"redux-saga/effects\";\nimport { SEARCH_FIELD_CHANGE } from \"./search/types\";\nimport { BOOKS_LIST_REQUEST } from \"./booksList/types\";\nimport {\n  booksListRequest,\n  booksListSuccess,\n  booksListFailure,\n} from \"./booksList/actions\";\nimport { booksListFetch } from \"./utils/api\";\n\nfunction filterSearchFieldAction({ type, payload }) {\n  return type === SEARCH_FIELD_CHANGE && payload.value.trim() !== \"\";\n}\n\nfunction* handleSearchFieldSaga(action) {\n  yield put(booksListRequest(action.payload.value));\n}\n\nfunction* watchSearchFieldSaga() {\n  yield debounce(1000, filterSearchFieldAction, handleSearchFieldSaga);\n}\n\nfunction* handleBookSearchSaga(action) {\n  try {\n    const data = yield call(booksListFetch, action.payload.search);\n    yield put(booksListSuccess(data.docs));\n  } catch (e) {\n    yield put(booksListFailure(e.message));\n  }\n}\n\nfunction* watchBookSearchSaga() {\n  yield takeLatest(BOOKS_LIST_REQUEST, handleBookSearchSaga);\n}\n\nexport default function* saga() {\n  yield spawn(watchSearchFieldSaga);\n  yield spawn(watchBookSearchSaga);\n}\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport createSagaMiddleware from \"redux-saga\";\nimport booksListReducer from \"./booksList/reducer\";\nimport bookModalReducer from \"./bookModal/reducer\";\nimport searchReducer from \"./search/reducer\";\nimport saga from \"./sagas\";\n\nconst reducer = combineReducers({\n  booksList: booksListReducer,\n  bookModal: bookModalReducer,\n  search: searchReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n  reducer,\n  composeEnhancers(applyMiddleware(thunk, sagaMiddleware))\n);\n\nsagaMiddleware.run(saga);\n\nexport default store;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { searchFieldChange } from \"../../redux/search/actions\";\nimport { booksListRequest } from \"../../redux/booksList/actions\";\nimport \"./SearchForm.css\";\n\nfunction SearchForm(props) {\n  const { name } = useSelector((state) => state.search);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    dispatch(searchFieldChange(event.target.name, event.target.value));\n  };\n\n  const searchRequest = (event) => {\n    event.preventDefault();\n    if (name) {\n      dispatch(booksListRequest(name));\n    }\n  };\n\n  return (\n    <div className=\"search\">\n      <form className=\"search__form\" onSubmit={searchRequest}>\n        <div className=\"input-block\">\n          <input\n            name=\"name\"\n            value={name}\n            onChange={handleChange}\n            type=\"text\"\n            placeholder=\"Введите название книги или имя автора\"\n          />\n        </div>\n        <button className=\"search-form__button\">\n          <span>Найти</span>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"800px\" height=\"800px\" viewBox=\"0 -0.5 25 25\" fill=\"none\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.5 11.1455C5.49956 8.21437 7.56975 5.69108 10.4445 5.11883C13.3193 4.54659 16.198 6.08477 17.32 8.79267C18.4421 11.5006 17.495 14.624 15.058 16.2528C12.621 17.8815 9.37287 17.562 7.3 15.4895C6.14763 14.3376 5.50014 12.775 5.5 11.1455Z\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            <path d=\"M15.989 15.4905L19.5 19.0015\"  strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default SearchForm;\n","import { SEARCH_FIELD_CHANGE } from \"./types\";\n\nexport function searchFieldChange(name, value) {\n  return { type: SEARCH_FIELD_CHANGE, payload: { name, value } };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch } from \"react-redux\";\nimport { bookModalShow } from \"../../redux/bookModal/actions\";\nimport \"./BooksItem.css\";\n\nfunction BooksItem({ book }) {\n  const dispatch = useDispatch();\n\n  const selectBook = () => {\n    dispatch(bookModalShow(book));\n  };\n\n  return (\n    <li className=\"books__item\" onClick={selectBook}>\n      <div className=\"books__item-icon\">\n        {book.cover_i ?\n          (<img src={`http://covers.openlibrary.org/b/id/${book.cover_i}-S.jpg`} alt=\"\" />)\n        : ''}\n      </div>\n      <div className=\"books__item-content\">\n        <div className=\"books__item-title\">{book.title}</div>\n        {book.author_name && (<div className=\"books__item-author\">{book.author_name[0]}</div>)}\n      </div>\n    </li>\n  );\n}\n\nBooksItem.propTypes = {\n  book: PropTypes.shape({\n    cover_i: PropTypes.number,\n    title: PropTypes.string.isRequired,\n    author_name: PropTypes.array,\n  }),\n};\n\nexport default BooksItem;\n","import { BOOK_MODAL_SHOW, BOOK_MODAL_CLOSE } from \"./types\";\n\nexport function bookModalShow(item) {\n  return { type: BOOK_MODAL_SHOW, payload: { item } };\n}\n\nexport function bookModalClose() {\n  return { type: BOOK_MODAL_CLOSE };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectPage } from \"../../redux/booksList/actions\";\n\nimport \"./Paginator.css\";\n\nfunction Paginator({ count }) {\n  const { page } = useSelector((state) => state.booksList);\n  const dispatch = useDispatch();\n\n  const generate = (count) => {\n    const pages = [];\n    for (let i = 1; i <= count; i++) {\n      pages.push(i);\n    }\n    return pages;\n  };\n\n  const select = (page) => {\n    dispatch(selectPage(page));\n  };\n\n  const selectBefore = () => {\n    if (page > 1) {\n      dispatch(selectPage(page - 1));\n    }\n  };\n\n  const selectAfter = () => {\n    if (page < count) {\n      dispatch(selectPage(page + 1));\n    }\n  };\n\n  return (\n    <div className=\"paginator\">\n      <div className=\"paginator__list\">\n        {generate(count).map((el) => (\n          <button\n            className={`paginator__item ${page === el ? \"paginator__item--active\" : \"\"}`}\n            key={el}\n            onClick={() => select(el)}\n          >\n            {el}\n          </button>\n        ))}\n      </div>\n      <div className=\"paginator__actions\">\n        <button\n          className=\"paginator__action paginator__action--before\"\n          onClick={selectBefore}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"800px\" height=\"800px\" viewBox=\"0 0 1024 1024\" version=\"1.1\">\n            <path d=\"M768 903.232l-50.432 56.768L256 512l461.568-448 50.432 56.768L364.928 512z\" />\n          </svg>\n        </button>\n        <button\n          className=\"paginator__action paginator__action--after\"\n          onClick={selectAfter}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"800px\" height=\"800px\" viewBox=\"0 0 1024 1024\" version=\"1.1\">\n            <path d=\"M256 120.768L306.432 64 768 512l-461.568 448L256 903.232 659.072 512z\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nPaginator.propTypes = {\n  count: PropTypes.number.isRequired,\n};\n\nexport default Paginator;\n","import React from \"react\";\nimport \"./Error.css\";\n\nfunction Error(props) {\n  return (\n    <div className=\"error\">\n      <p>\n        Что-то пошло не так, попробуйте перезагрузить страницу.\n      </p>\n    </div>\n  );\n}\n\nexport default Error;\n","import React from \"react\";\nimport \"./Loader.css\";\n\nfunction Loader(props) {\n  return (\n    <div className=\"loader\">\n      <div className=\"loader__icon\"></div>\n    </div>\n  );\n}\n\nexport default Loader;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport BooksItem from \"../BooksItem/BooksItem\";\nimport Paginator from \"../Paginator/Paginator\";\nimport Error from \"../Error/Error\";\nimport Loader from \"../Loader/Loader\";\nimport \"./BooksList.css\";\n\nfunction BooksList(props) {\n  const { items, loading, error, page } = useSelector(\n    (state) => state.booksList\n  );\n\n  const count = (page) => {\n    return 15 * page - 15;\n  };\n\n  return (\n    <div className=\"books\">\n      {loading && <Loader />}\n      {error && <Error />}\n      {items.length > 0 && (\n        <>\n          <ul className=\"books__list\">\n            {items.slice(count(page), count(page) + 15).map((el) => (\n              <BooksItem key={el.key} book={el} />\n            ))}\n          </ul>\n          <Paginator count={Math.ceil(items.length / 15)} />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default BooksList;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { bookModalClose } from \"../../redux/bookModal/actions\";\nimport \"./BookModal.css\";\n\nfunction BookModal(props) {\n  const { item, active } = useSelector((state) => state.bookModal);\n  const dispatch = useDispatch();\n\n  const closeBook = (event) => {\n    event.preventDefault();\n    const target = event.target;\n\n    if (target.closest(\".modal__button\") || !target.closest(\".modal__card\")) {\n      dispatch(bookModalClose());\n    }\n  };\n  return (\n    <div\n      className={`book-modal modal ${active ? \"modal--active\" : \"\"}`}\n      onClick={(event) => closeBook(event)}\n    >\n      <div className=\"modal__layout\">\n        <div className=\"modal__inner\">\n          <button className=\"modal__close\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"800px\" height=\"800px\" viewBox=\"-0.5 0 25 25\" fill=\"none\">\n              <path d=\"M3 21.32L21 3.32001\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M3 3.32001L21 21.32\"  strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n          {item && (\n            <div className=\"modal__body\">\n              <div className=\"modal__wrapper\">\n                <div className=\"book-modal__content\">\n                  <h2>{item.title}</h2>\n                  {item.author_name && (\n                    <p>{item.author_name[0]}</p>\n                  )}\n                </div>\n                {item.cover_i ? (\n                  <div className=\"book-modal__icon\">\n                    <img src={`http://covers.openlibrary.org/b/id/${item.cover_i}-L.jpg`} alt=\"\"/>\n                  </div>\n                ) : ''}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BookModal;\n","import SearchForm from \"./components/SearchForm/SearchForm\";\nimport BooksList from \"./components/BooksList/BooksList\";\nimport BookModal from \"./components/BookModal/BookModal\";\n\nfunction App() {\n  return (\n    <>\n      <div className=\"app\">\n        <div className=\"container\">\n          <SearchForm />\n          <BooksList />\n        </div>\n      </div>\n      <BookModal />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}